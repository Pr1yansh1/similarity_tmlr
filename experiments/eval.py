import numpy as np 

similarity_matrix = np.loadtxt('similarity_result.txt')

assignment_dict = {104: [143], 715: [277], 415: [208], 372: [9], 99: [22], 329: [297], 235: [352], 4: [351], 381: [319], 440: [134], 376: [154], 665: [9], 59: [22], 190: [57], 97: [228], 694: [65], 729: [139], 739: [186], 630: [36], 807: [245], 172: [166], 262: [10], 150: [393], 794: [233], 559: [69], 501: [186], 93: [390], 496: [332], 580: [80], 789: [178], 761: [228], 319: [65], 790: [126], 368: [281], 214: [16], 305: [131], 624: [314], 36: [68], 332: [207], 275: [175], 750: [395], 265: [402], 53: [292], 713: [224], 202: [252], 516: [200], 389: [52], 664: [10], 619: [179], 720: [360], 180: [313], 469: [153], 487: [314], 717: [28], 734: [130], 417: [346], 571: [94], 316: [49], 343: [147], 134: [93], 122: [402], 221: [29], 92: [233], 659: [262], 568: [84], 575: [186], 165: [281], 280: [391], 90: [220], 536: [332], 522: [167], 160: [157], 517: [345], 200: [74], 418: [128], 438: [364], 661: [141], 302: [23], 627: [8], 748: [328], 151: [201], 339: [67], 45: [76], 612: [217], 7: [85], 500: [87], 141: [212], 481: [275], 44: [309], 401: [304], 113: [250], 708: [368], 591: [362], 551: [412], 515: [362], 32: [6], 236: [128], 743: [296], 304: [81], 98: [270], 5: [82], 101: [301], 799: [175], 771: [338], 697: [15], 412: [71], 494: [355], 703: [80], 546: [274], 526: [309], 56: [167], 550: [179], 599: [71], 490: [251], 539: [359], 450: [177], 777: [224], 621: [396], 778: [90], 234: [67], 561: [63], 544: [37], 148: [247], 693: [280], 34: [1], 456: [13], 290: [113], 581: [86], 223: [303], 115: [149], 565: [355], 243: [28], 106: [169], 524: [390], 118: [223], 196: [114], 404: [329], 489: [214], 690: [75], 213: [409], 226: [63], 545: [178], 679: [62], 127: [224], 81: [385], 707: [148], 174: [19], 570: [269], 766: [106], 0: [261], 13: [228], 436: [241], 414: [416], 491: [331], 107: [380], 24: [381], 248: [210], 286: [209], 503: [244], 651: [296], 647: [70], 135: [202], 667: [167], 810: [22], 620: [364], 564: [54], 504: [], 525: [381], 88: [264], 770: [293], 170: [363], 55: [160], 237: [49], 732: [145], 800: [222], 480: [278], 47: [249], 181: [79], 132: [93], 538: [52], 16: [209], 152: [302], 351: [140], 641: [404], 246: [35], 187: [324], 735: [158], 380: [116], 758: [168], 654: [382], 15: [382], 554: [169], 402: [210], 700: [81], 91: [140], 482: [337], 585: [374], 726: [155], 727: [207], 277: [27], 390: [319], 324: [261], 483: [368], 745: [248], 123: [319], 19: [91], 763: [333], 327: [210], 475: [29], 639: [281], 685: [413], 291: [104], 257: [378], 622: [23], 459: [216], 192: [279], 769: [60], 283: [107], 74: [211], 168: [93], 284: [188], 62: [8], 108: [26], 434: [221], 741: [7], 239: [270], 323: [95], 333: [36], 442: [252], 623: [78], 577: [163], 27: [343], 598: [79], 279: [92], 177: [47], 604: [226], 460: [201], 308: [234], 136: [37], 405: [375], 370: [9], 638: [239], 691: [248], 689: [336], 747: [125], 470: [48], 711: [337], 238: [11], 232: [413], 673: [77], 217: [263], 208: [69], 528: [310], 111: [75], 225: [95], 133: [47], 759: [144], 531: [29], 392: [182], 607: [31], 477: [306], 676: [19], 632: [289], 61: [95], 400: [293], 328: [16], 495: [49], 767: [276], 199: [13], 437: [262], 272: [319], 171: [398], 71: [350], 406: [88], 569: [106], 157: [191], 341: [24], 52: [204], 648: [385], 198: [73], 114: [73], 348: [341], 89: [74], 336: [303], 145: [278], 407: [352], 666: [96], 124: [16], 325: [91], 518: [271], 50: [35], 796: [337], 28: [123], 610: [146], 298: [314], 184: [355], 696: [396], 523: [282], 307: [68], 625: [218], 128: [414], 678: [219], 313: [99], 594: [48], 684: [140], 162: [102], 346: [116], 282: [229], 454: [316], 41: [207], 258: [314], 420: [132], 344: [260], 736: [289], 26: [86], 121: [33], 218: [117], 784: [152], 645: [136], 206: [52], 455: [362], 317: [202], 247: [213], 70: [268], 535: [17], 259: [1], 419: [192], 68: [118], 408: [387], 448: [180], 492: [311], 2: [361], 733: [418], 191: [190], 273: [252], 85: [201], 116: [332], 530: [324], 42: [274], 613: [280], 360: [408], 802: [133], 746: [270], 505: [314], 416: [51], 578: [393], 94: [412], 801: [226], 386: [35], 768: [179], 331: [352], 350: [71], 682: [141], 79: [12], 464: [111], 542: [129], 100: [80], 195: [299], 675: [225], 300: [398], 271: [363], 22: [268], 287: [278], 433: [315], 519: [14], 21: [135], 432: [261], 773: [343], 723: [136], 780: [1], 281: [106], 728: [398], 795: [141], 37: [242], 167: [394], 330: [216], 643: [169], 227: [373], 506: [90], 373: [124], 65: [153], 461: [249], 752: [403], 560: [181], 315: [159], 215: [298], 130: [65], 374: [162], 49: [110], 77: [371], 586: [34], 631: [74], 435: [364], 211: [247], 1: [181], 543: [5], 365: [380], 718: [281], 808: [36], 9: [402], 671: [417], 644: [298], 486: [162], 740: [20], 608: [333], 687: [29], 31: [195], 40: [17], 353: [219], 197: [84], 363: [217], 725: [163], 540: [359], 306: [241], 358: [161], 103: [288], 449: [324], 755: [301], 66: [355], 375: [321], 583: [35], 573: [140], 783: [381], 772: [257], 241: [194], 439: [45], 558: [21], 605: [288], 311: [98], 288: [245], 230: [99], 96: [319], 278: [209], 30: [283], 507: [45], 229: [320], 716: [397], 471: [58], 189: [78], 527: [102], 754: [116], 633: [291], 493: [375], 429: [152], 203: [36], 143: [146], 710: [317], 82: [321], 326: [37], 263: [20], 140: [119], 502: [310], 695: [26], 683: [103], 662: [226], 680: [136], 51: [271], 105: [298], 451: [263], 270: [406], 340: [278], 635: [233], 626: [358], 8: [328], 709: [232], 712: [262], 670: [237], 369: [60], 478: [80], 173: [13], 616: [36], 244: [147], 798: [238], 774: [106], 210: [282], 787: [408], 267: [234], 398: [394], 58: [297], 592: [315], 240: [373], 249: [5], 378: [379], 83: [114], 411: [173], 566: [124], 537: [119], 17: [26], 366: [0], 188: [107], 557: [219], 260: [333], 409: [197], 43: [92], 805: [278], 242: [265], 431: [32], 268: [201], 12: [183], 806: [307], 338: [58], 457: [163], 600: [155], 84: [320], 776: [92], 510: [65], 110: [273], 320: [215], 219: [74], 23: [192], 117: [13], 178: [346], 466: [70], 146: [371], 250: [127], 359: [416], 634: [307], 701: [386], 18: [94], 95: [85], 663: [349], 75: [110], 781: [27], 207: [94], 520: [207], 255: [155], 534: [384], 131: [282], 757: [228], 371: [43], 484: [231], 797: [223], 791: [399], 601: [89], 310: [243], 48: [2], 686: [206], 579: [246], 642: [373], 793: [183], 498: [82], 367: [308], 183: [158], 669: [84], 147: [133], 445: [76], 149: [370], 153: [28], 69: [128], 253: [68], 640: [169], 274: [295], 574: [141], 809: [46], 692: [129], 388: [168], 72: [264], 109: [139], 731: [354], 212: [348], 615: [96], 782: [58], 468: [91], 589: [372], 112: [133], 67: [391], 611: [389], 25: [307], 532: [155], 775: [61], 672: [5], 126: [173], 629: [173], 163: [397], 6: [363], 142: [297], 476: [186], 737: [302], 584: [296], 383: [295], 541: [251], 38: [89], 399: [218], 749: [110], 349: [20], 102: [374], 334: [196], 463: [24], 792: [113], 129: [138], 657: [13], 137: [156], 444: [336], 364: [64], 730: [216], 352: [340], 742: [82], 156: [369], 650: [155], 296: [10], 572: [110], 252: [206], 762: [321], 78: [386], 596: [232], 292: [246], 254: [215], 347: [37], 614: [343], 10: [22], 609: [69], 294: [412], 337: [355], 446: [253], 652: [66], 356: [406], 699: [299], 57: [0], 556: [67], 788: [382], 335: [21], 179: [65], 499: [341], 87: [92], 385: [374], 512: [353], 3: [97], 224: [77], 555: [411], 342: [64], 646: [413], 563: [90], 744: [177], 485: [219], 587: [284], 266: [267], 403: [397], 509: [401], 314: [51], 427: [179], 321: [404], 521: [261], 289: [259], 706: [176], 295: [114], 76: [322], 379: [223], 396: [245], 20: [380], 410: [257], 63: [63], 318: [154], 54: [200], 231: [16], 186: [44], 473: [147], 345: [128], 421: [46], 424: [382], 395: [286], 176: [314], 636: [198], 204: [25], 674: [65], 719: [68], 628: [248], 425: [229], 264: [92], 760: [407], 714: [207], 139: [350], 548: [86], 154: [344], 588: [249], 467: [54], 779: [142], 391: [268], 201: [353], 430: [35], 753: [336], 786: [51], 228: [175], 508: [177], 452: [232], 582: [32], 322: [129], 618: [364], 384: [23], 64: [368], 602: [92], 458: [336], 269: [233], 125: [196], 355: [68], 576: [392], 256: [68], 637: [300], 413: [79], 595: [220], 668: [241], 39: [52], 562: [370], 387: [106], 164: [140], 193: [145], 220: [400], 205: [133], 597: [384], 533: [303], 35: [15], 362: [222], 529: [145], 704: [211], 681: [356], 285: [231], 11: [282], 29: [406], 497: [115], 354: [408], 765: [136], 617: [331], 166: [34], 462: [113], 804: [9], 161: [295], 222: [184], 428: [329], 756: [101], 261: [97], 175: [358], 245: [307], 301: [320], 567: [307], 443: [284], 312: [79], 120: [211], 688: [343], 593: [207], 513: [304], 606: [378], 299: [91], 803: [202], 185: [136], 488: [70], 702: [160], 426: [158], 60: [370], 552: [5], 233: [129], 785: [258], 698: [218], 514: [49], 46: [53], 590: [84], 738: [209], 377: [38], 724: [126], 303: [321], 472: [209], 73: [82], 86: [1], 653: [391], 547: [377], 297: [376], 144: [136], 422: [291], 194: [161], 209: [136], 479: [53], 656: [23], 721: [246], 14: [135], 447: [318], 361: [189], 397: [387], 553: [241], 138: [414], 441: [410], 549: [65], 216: [259], 33: [156], 423: [95], 119: [388], 655: [76], 182: [385], 751: [396], 705: [189], 394: [326], 764: [15], 155: [133], 309: [23], 658: [191], 603: [383], 677: [152], 276: [360], 251: [339], 158: [201], 722: [87], 465: [411], 511: [33], 660: [72], 649: [248], 159: [178], 357: [106], 453: [289], 169: [164], 80: [399], 474: [216], 293: [67], 393: [204], 382: [186]}

def tpms_metric(): 
    total_similarity_sum = 0
    for paper_idx, reviewer_list in assignment_dict.items():
        for reviewer_idx in reviewer_list:
            total_similarity_sum += similarity_matrix[reviewer_idx][paper_idx]
    
    return total_similarity_sum


def fairness_metric(): 
    worst_off_paper = None
    worst_off_sum = float('inf')
    for paper_idx, reviewer_list in assignment_dict.items():
        paper_sum = 0
        for reviewer_idx in reviewer_list:
            s = similarity_matrix[reviewer_idx][paper_idx]
            paper_sum += s
        if paper_sum < worst_off_sum:
            worst_off_paper = paper_idx
            worst_off_sum = paper_sum

    return (worst_off_paper, worst_off_sum)


sum1 = tpms_metric() 
sum2 = fairness_metric()

print(sum1) 

print(sum2)